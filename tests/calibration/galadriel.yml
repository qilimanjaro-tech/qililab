name: galadriel_soprano_master

instruments:
  - name: QRM
    alias: QRM1
    out_offsets: [0, 0]
    awg_sequencers:
      - identifier: 0
        outputs: [0, 1]
        gain_i: .5
        gain_q: .5
        offset_i: 0
        offset_q: 0
        threshold: 0.5
        threshold_rotation: 0.0
        intermediate_frequency: 10.e+06
        gain_imbalance: 1.
        phase_imbalance: 0
        hardware_modulation: true
        scope_acquire_trigger_mode: sequencer
        scope_hardware_averaging: true
        sampling_rate: 1.e+09
        integration_length: 2000
        integration_mode: ssb
        sequence_timeout: 1
        acquisition_timeout: 1
        hardware_demodulation: true
        scope_store_enabled: false
        time_of_flight: 40
      - identifier: 1
        outputs: [0, 1]
        gain_i: .5
        gain_q: .5
        offset_i: 0
        offset_q: 0
        threshold: 0.5
        threshold_rotation: 0.0
        intermediate_frequency: 20.e+06
        gain_imbalance: 1.
        phase_imbalance: 0
        hardware_modulation: true
        scope_acquire_trigger_mode: sequencer
        scope_hardware_averaging: true
        sampling_rate: 1.e+09
        integration_length: 2000
        integration_mode: ssb
        sequence_timeout: 1
        acquisition_timeout: 1
        hardware_demodulation: true
        scope_store_enabled: false
        time_of_flight: 40
      - identifier: 2
        outputs: [0, 1]
        gain_i: .5
        gain_q: .5
        offset_i: 0
        offset_q: 0
        threshold: 0.5
        threshold_rotation: 0.0
        intermediate_frequency: 30.e+06
        gain_imbalance: 1.
        phase_imbalance: 0
        hardware_modulation: true
        scope_acquire_trigger_mode: sequencer
        scope_hardware_averaging: true
        sampling_rate: 1.e+09
        integration_length: 2000
        integration_mode: ssb
        sequence_timeout: 1
        acquisition_timeout: 1
        hardware_demodulation: true
        scope_store_enabled: false
        time_of_flight: 40
      - identifier: 3
        outputs: [0, 1]
        gain_i: .5
        gain_q: .5
        offset_i: 0
        offset_q: 0
        threshold: 0.5
        threshold_rotation: 0.0
        intermediate_frequency: 40.e+06
        gain_imbalance: 1.
        phase_imbalance: 0
        hardware_modulation: true
        scope_acquire_trigger_mode: sequencer
        scope_hardware_averaging: true
        sampling_rate: 1.e+09
        integration_length: 2000
        integration_mode: ssb
        sequence_timeout: 1
        acquisition_timeout: 1
        hardware_demodulation: true
        scope_store_enabled: false
        time_of_flight: 40
      - identifier: 4
        outputs: [0, 1]
        gain_i: .5
        gain_q: .5
        offset_i: 0
        offset_q: 0
        threshold: 0.5
        threshold_rotation: 0.0
        intermediate_frequency: 50.e+06
        gain_imbalance: 1.
        phase_imbalance: 0
        hardware_modulation: true
        scope_acquire_trigger_mode: sequencer
        scope_hardware_averaging: true
        sampling_rate: 1.e+09
        integration_length: 2000
        integration_mode: ssb
        sequence_timeout: 1
        acquisition_timeout: 1
        hardware_demodulation: true
        scope_store_enabled: false
        time_of_flight: 40
  - name: QCM-RF
    alias: QCM-RF1
    out0_lo_freq: 6.5e+09
    out0_lo_en: true
    out0_att: 0
    out0_offset_path0: 0.
    out0_offset_path1: 0.0
    out1_lo_freq: 6.7e+09
    out1_lo_en: true
    out1_att: 0
    out1_offset_path0: 0.
    out1_offset_path1: 0.
    awg_sequencers:
      - identifier: 0
        outputs: [0]
        gain_i: 0.1
        gain_q: 0.1
        offset_i: 0. # -0.012
        offset_q: 0.
        intermediate_frequency: 10.e+06
        gain_imbalance: 0.940
        phase_imbalance: 14.482
        hardware_modulation: true
      - identifier: 1
        outputs: [1]
        gain_i: 1
        gain_q: 1
        offset_i: 0
        offset_q: 0
        intermediate_frequency: 20.e+06
        gain_imbalance: 0.5
        phase_imbalance: 0
        hardware_modulation: true
  - name: QCM-RF
    alias: QCM-RF2
    out0_lo_freq: 6.5e+09
    out0_lo_en: true
    out0_att: 0
    out0_offset_path0: 0.
    out0_offset_path1: 0.0
    out1_lo_freq: 6.7e+09
    out1_lo_en: true
    out1_att: 0
    out1_offset_path0: 0.
    out1_offset_path1: 0.
    awg_sequencers:
      - identifier: 0
        outputs: [0]
        gain_i: 0.1
        gain_q: 0.1
        offset_i: 0.
        offset_q: 0.
        intermediate_frequency: 10.e+06
        gain_imbalance: .5
        phase_imbalance: 0.
        hardware_modulation: true
  - name: QCM-RF
    alias: QCM-RF3
    out0_lo_freq: 5.e+09
    out0_lo_en: true
    out0_att: 0
    out0_offset_path0: 0.
    out0_offset_path1: 0.0
    out1_lo_freq: 5.2e+09
    out1_lo_en: true
    out1_att: 0
    out1_offset_path0: 0.
    out1_offset_path1: 0.
    awg_sequencers:
      - identifier: 0
        outputs: [0]
        gain_i: 0.1
        gain_q: 0.1
        offset_i: 0.
        offset_q: 0.
        intermediate_frequency: 10.e+06
        gain_imbalance: .5
        phase_imbalance: 0.
        hardware_modulation: true
      - identifier: 1
        outputs: [1]
        gain_i: 1
        gain_q: 1
        offset_i: 0
        offset_q: 0
        intermediate_frequency: 20.e+06
        gain_imbalance: 0.5
        phase_imbalance: 0
        hardware_modulation: true
  - name: QCM
    alias: QCM1
    out_offsets: [0.0, 5.0, 0.0, 10.0]
    awg_sequencers:
      - identifier: 0
        outputs: [0, 1]
        gain_i: 0.1
        gain_q: 0.1
        offset_i: 0.
        offset_q: 0.
        intermediate_frequency: 10.e+06
        gain_imbalance: .5
        phase_imbalance: 0.
        hardware_modulation: true
      - identifier: 1
        outputs: [1, 0]
        gain_i: 1
        gain_q: 1
        offset_i: 0
        offset_q: 0
        intermediate_frequency: 0.
        gain_imbalance: 0.5
        phase_imbalance: 0
        hardware_modulation: true
      - identifier: 2
        outputs: [2, 3]
        gain_i: 1
        gain_q: 1
        offset_i: 0
        offset_q: 0
        intermediate_frequency: 0.
        gain_imbalance: 0.5
        phase_imbalance: 0
        hardware_modulation: true
      - identifier: 3
        outputs: [3, 2]
        gain_i: 1
        gain_q: 1
        offset_i: 0
        offset_q: 0
        intermediate_frequency: 0.
        gain_imbalance: 0.5
        phase_imbalance: 0
        hardware_modulation: true
  - name: QCM
    alias: QCM2
    out_offsets: [0.0, 0.0, 0.0, 0.0]
    awg_sequencers:
      - identifier: 0
        outputs: [0, 1]
        gain_i: 1.
        gain_q: 1.
        offset_i: 0.
        offset_q: 0.
        intermediate_frequency: 10.e+06
        gain_imbalance: .5
        phase_imbalance: 0.
        hardware_modulation: true
  - name: rohde_schwarz
    alias: rs_1
    power: 16
    frequency: 8.0726e+09
    rf_on: true
  - name: mini_circuits
    alias: attenuator
    attenuation: 32

instrument_controllers:
  - name: qblox_cluster
    alias: cluster_controller_0
    reference_clock: internal
    connection:
      name: tcp_ip
      address: 192.168.1.20
    modules:
      - alias: QRM1
        slot_id: 12
      - alias: QCM-RF1
        slot_id: 6
      - alias: QCM-RF3
        slot_id: 8
      - alias: QCM-RF2
        slot_id: 14
      - alias: QCM1
        slot_id: 14
      - alias: QCM2
        slot_id: 14
    reset: False
  - name: rohde_schwarz
    alias: rohde_schwarz_controller_0
    reference_clock: internal
    connection:
      name: tcp_ip
      address: 192.168.1.11
    modules:
      - alias: rs_1
        slot_id: 0
    reset: True
  - name: mini_circuits
    alias: attenuator_controller_0
    connection:
      name: tcp_ip
      address: 192.168.1.69
    modules:
      - alias: attenuator
        slot_id: 0
    reset: True

buses:
  - alias: readout_q0
    instruments: [QRM1, rs_1]
    channels: [0, None]
  - alias: readout_q1
    instruments: [QRM1, rs_1]
    channels: [0, None]
  - alias: readout_q2
    instruments: [QRM1, rs_1]
    channels: [0, None]
  - alias: readout_q3
    instruments: [QRM1, rs_1]
    channels: [0, None]
  - alias: readout_q4
    instruments: [QRM1, rs_1]
    channels: [0, None]
  - alias: drive_q0
    instruments: [QCM-RF1]
    channels: [0]
  - alias: flux_q0
    instruments: [QCM1]
    channels: [0]
  - alias: drive_q1
    instruments: [QCM-RF1]
    channels: [1]
  - alias: flux_q1
    instruments: [QCM1]
    channels: [1]
  - alias: drive_q2
    instruments: [QCM-RF2]
    channels: [0]
  - alias: flux_q2
    instruments: [QCM2]
    channels: [0]
  - alias: drive_q3
    instruments: [QCM-RF3]
    channels: [0]
  - alias: flux_q3
    instruments: [QCM1]
    channels: [2]
  - alias: drive_q4
    instruments: [QCM-RF3]
    channels: [0]
  - alias: flux_q4
    instruments: [QCM1]
    channels: [3]

digital:
  minimum_clock_time: 4
  delay_before_readout: 4
  topology: [[0, 2], [1, 2], [2, 3], [2, 4]]
  gates:
    M(0):
      - bus: readout_q0
        pulse:
          amplitude: 1.0
          phase: 0
          duration: 2000
          shape:
            name: rectangular
    Drag(0):
      - bus: drive_q0
        pulse:
          amplitude: 1.0
          phase: 0
          duration: 20
          shape:
            name: drag
            num_sigmas: 4
            drag_coefficient: 0.0

    M(1):
      - bus: readout_q1
        pulse:
          amplitude: 1.0
          phase: 0
          duration: 2000
          shape:
            name: rectangular
    Drag(1):
      - bus: drive_q1
        pulse:
          amplitude: 1.0
          phase: 0
          duration: 20
          shape:
            name: drag
            num_sigmas: 4
            drag_coefficient: 0.0

    M(2):
      - bus: readout_q2
        pulse:
          amplitude: 1.0
          phase: 0
          duration: 2000
          shape:
            name: rectangular
    Drag(2):
      - bus: drive_q2
        pulse:
          amplitude: 1.0
          phase: 0
          duration: 20
          shape:
            name: drag
            num_sigmas: 4
            drag_coefficient: 0.0

    M(3):
      - bus: readout_q3
        pulse:
          amplitude: 1.0
          phase: 0
          duration: 2000
          shape:
            name: rectangular
    Drag(3):
      - bus: drive_q3
        pulse:
          amplitude: 1.0
          phase: 0
          duration: 20
          shape:
            name: drag
            num_sigmas: 4
            drag_coefficient: 0.0

    M(4):
      - bus: readout_q4
        pulse:
          amplitude: 1.0
          phase: 0
          duration: 2000
          shape:
            name: rectangular

    Drag(4):
      - bus: drive_q4
        pulse:
          amplitude: 1.0
          phase: 0
          duration: 20
          shape:
            name: drag
            num_sigmas: 4
            drag_coefficient: 0.0

    CZ(0,2):
      - bus: flux_q2
        pulse:
          amplitude: 1.0
          phase: 0
          duration: 101
          shape:
            name: snz
            t_phi: 1
            b: 0.5
          options:
            q0_phase_correction: 0.1
            q2_phase_correction: 0.2

      - bus: flux_q1 # park pulse
        wait_time: 20
        pulse:
          amplitude: 1.0
          phase: 0
          duration: 121
          shape:
            name: rectangular

    CZ(1,2):
      - bus: flux_q2
        pulse:
          amplitude: 1.0
          phase: 0
          duration: 101
          shape:
            name: snz
            t_phi: 1
            b: 0.5
      - bus: flux_q0 # park pulse
        wait_time: 20
        pulse:
          amplitude: 1.0
          phase: 0
          duration: 121
          shape:
            name: rectangular

    CZ(4,2):
      - bus: flux_q4
        pulse:
          amplitude: 1.0
          phase: 0
          duration: 101
          shape:
            name: snz
            t_phi: 1
            b: 0.5

    CZ(3,2):
      - bus: flux_q3
        pulse:
          amplitude: 1.0
          phase: 0
          duration: 101
          shape:
            name: snz
            t_phi: 1
            b: 0.5
  buses:
    readout_q0:
      line: readout
      qubits: [0]
      distortions: []
      delay: 0

    readout_q1:
      line: readout
      qubits: [0]
      distortions: []
      delay: 0

    readout_q2:
      line: readout
      qubits: [0]
      distortions: []
      delay: 0

    readout_q3:
      line: readout
      qubits: [0]
      distortions: []
      delay: 0

    readout_q4:
      line: readout
      qubits: [0]
      distortions: []
      delay: 0

    drive_q0:
      line: drive
      qubits: [0]
      distortions: []
      delay: 0

    drive_q1:
      line: drive
      qubits: [1]
      distortions: []
      delay: 0

    drive_q2:
      line: drive
      qubits: [2]
      distortions: []
      delay: 0

    drive_q3:
      line: drive
      qubits: [3]
      distortions: []
      delay: 0

    drive_q4:
      line: drive
      qubits: [4]
      distortions: []
      delay: 0

    flux_q0:
      line: flux
      qubits: [0]
      distortions: []
      delay: 0

    flux_q1:
      line: flux
      qubits: [1]
      distortions: []
      delay: 0

    flux_q2:
      line: flux
      qubits: [2]
      distortions: []
      delay: 0

    flux_q3:
      line: flux
      qubits: [3]
      distortions: []
      delay: 0

    flux_q4:
      line: flux
      qubits: [4]
      distortions: []
      delay: 0

analog:
  flux_control_topology: # example for the flux to bus mapping (analog)
    - flux: phix_q0
      bus: flux_q0
    - flux: phiz_q0
      bus: flux_q0
    - flux: phix_q1
      bus: flux_q1
    - flux: phiz_q1
      bus: flux_q1
    - flux: phix_c1_0
      bus: flux_q0
    - flux: phix_c1_0
      bus: flux_q0
